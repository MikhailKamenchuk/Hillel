"use strict";function init(){d=new Date,h=d.getHours(),m=d.getMinutes(),s=d.getSeconds(),go("sec",s),go("min",m),go("hr",h)}function go(e,t){t<10&&(t="0"+t),document.getElementById(e).innerHTML=t}function showBlockTableArea(){tableArea.style.display="block",slider.style.display="",secondSlider.style.display="",secondProgressbar.style.display="",firstProgressbar.style.display=""}function showBlockSlider(){slider.style.display="block",secondSlider.style.display="block",tableArea.style.display="",secondProgressbar.style.display="",firstProgressbar.style.display=""}function showFirstProgressbar(){firstProgressbar.style.display="block",secondProgressbar.style.display="",slider.style.display="",secondSlider.style.display="",tableArea.style.display=""}function showSecondProgressbar(){secondProgressbar.style.display="block",firstProgressbar.style.display="",slider.style.display="",secondSlider.style.display="",tableArea.style.display=""}function Slidebox(e){this.container=document.querySelector(e);var t=this.container.getElementsByTagName("figure"),n=0,r=void 0,i=document.querySelectorAll(".controls-item button");this.arrows=document.querySelector(".arrows"),this.control=document.querySelector(".controls"),this.currentElem=null,this.go=function(){t[n].classList.remove("show"),n++,n=n<0?t.length-1:n==t.length?0:n,t[n].classList.add("show")},this.start=function(){r=setInterval(this.go,1e3)},this.stop=function(){clearTimeout(r)},this.moveByArrows=function(){t[n].classList.remove("show"),i[n].classList.remove("controls-active"),n+=+event.target.getAttribute("data-direct"),n=n<0?t.length-1:n==t.length?0:n,t[n].classList.add("show"),i[n].classList.add("controls-active")},this.moveBySwitches=function(e){t[n].classList.remove("show"),i[n].classList.remove("controls-active"),n=e.innerHTML-1,t[n].classList.add("show"),i[n].classList.add("controls-active")}}function createTable(){var e=document.querySelector("#col").value,t=document.querySelector("#row").value,n=document.createElement("table");n.id="myTable";for(var r=document.querySelector("#for-table"),i=0;i<t;i++){for(var o=document.createElement("tr"),s=0;s<e;s++){var d=document.createElement("td");o.appendChild(d)}n.appendChild(o)}flag?r.replaceChild(r.appendChild(n),r.firstChild):(r.appendChild(n),flag=!0),n.onclick=function(e){var t=e.target;if("td"==t.tagName.toLowerCase()){var n=t.parentNode.rowIndex+1,r=t.cellIndex+1;alert(n+"."+r)}},event.preventDefault()}function timer(e){var t=document.getElementById(e).innerHTML,n=t.split(":"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]);if(59==o){var o=0;if(59==i){var i=0;++r}else++i}else++o;if(o<10)var o="0"+o;if(i<10)var i="0"+i;if(r<10)var r="0"+r;document.getElementById(e).innerHTML=r+":"+i+":"+o}function startTimer(){timerId=setInterval('timer("my-timer")',1e3)}function stopTimer(){clearInterval(timerId)}function initialize(){new google.maps.places.Autocomplete(inputWeather)}function update(e){icon.src="img/codes/"+e.code+".png",humidity.innerHTML=e.humidity,wind.innerHTML=e.wind,direction.innerHTML=e.direction,loc.innerHTML=e.location,temp.innerHTML=e.temp}function getWeather(){temp=document.getElementById("temperature"),loc=document.getElementById("location"),icon=document.getElementById("icon"),humidity=document.getElementById("humidity"),wind=document.getElementById("wind"),direction=document.getElementById("direction"),city=inputWeather.value.substring(0,inputWeather.value.indexOf(",")),storage.setItem("city",inputWeather.value),updateByCity(city)}function updateByCity(e){sendRequest("http://api.openweathermap.org/data/2.5/weather?q="+e+"&APPID="+APPID)}function sendRequest(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=JSON.parse(t.responseText),n={};n.code=e.weather[0].id,n.humidity=e.main.humidity,n.wind=mph2kmph(e.wind.speed),n.direction=degreesToDirection(e.wind.deg),n.location=e.name,n.temp=K2C(e.main.temp),update(n)}},t.open("GET",e,!0),t.send()}function degreesToDirection(e){var t=22.5,n=360-t/2,r=(n+t)%360,o=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"];for(i in o){if(e>=n&&e<r)return o[i];n=(n+t)%360,r=(r+t)%360}return"N"}function mph2kmph(e){return Math.round(1.60934*e)}function K2C(e){return Math.round(e-273.15)}var header=document.querySelector(".header"),newDiv=document.createElement("div");newDiv.className="clock",header.appendChild(newDiv);var colon=document.createElement("span");colon.innerHTML=" : ";var hourSpan=document.createElement("span");hourSpan.id="hr",hourSpan.innerHTML="00",newDiv.appendChild(hourSpan),newDiv.appendChild(colon),newDiv.appendChild(colon);var minSpan=document.createElement("span");minSpan.id="min",minSpan.innerHTML="00",newDiv.appendChild(minSpan),newDiv.appendChild(colon.cloneNode(!0));var secSpan=document.createElement("span");secSpan.id="sec",secSpan.innerHTML="00",newDiv.appendChild(secSpan);var d=void 0,h=void 0,m=void 0,s=void 0,animate=void 0;animate=setInterval(function(){s++,60==s?(s=0,m++,go("min",m)):60==m?(m=0,h++):24==h&&(h=0,go("hr",h)),go("sec",s)},1e3),window.onload=init();var HideElements=function(e,t){var n=this,r=document.querySelector(e),i=t;this.btn=r.querySelector(".btn-for-promise"),this.indicator=r.querySelector(".my-bar"),this.imagesInPromise=r.querySelectorAll(".for-image"),this.textInPromise=r.querySelectorAll(".content-in-progressbar"),this.headsInPromise=r.querySelectorAll(".article-ptomise"),this.hideProgress=function(){n.indicator.style.width="0"},this.hideEl=function(e){e.style.width="0",e.style.padding="0",e.style.height="0"},this.hideImages=function(e){if(!0===i)for(e=0;e<n.imagesInPromise.length;e++)n.hideEl(n.imagesInPromise[e]);else n.hideEl(n.imagesInPromise[e])},this.hideText=function(e){if(!0===i)for(e=0;e<n.textInPromise.length;e++)n.hideEl(n.textInPromise[e]);else n.hideEl(n.textInPromise[e])},this.hideHeders=function(e){if(!0===i)for(e=0;e<n.headsInPromise.length;e++)n.hideEl(n.headsInPromise[e]);else n.hideEl(n.headsInPromise[e])};var o=new Promise(function(e,t){e(n.btn.addEventListener("click",n.hideProgress))});if(!0===i)o.then(function(){return Promise.resolve(n.indicator.addEventListener("transitionend",function(e){e.stopPropagation(),n.hideImages()}))}).then(function(){return Promise.resolve(n.imagesInPromise[n.imagesInPromise.length-1].addEventListener("transitionend",function(e){e.stopPropagation(),n.hideText()}))}).then(function(){return Promise.resolve(n.textInPromise[n.textInPromise.length-1].addEventListener("transitionend",function(e){e.stopPropagation(),n.hideHeders()}))});else{o.then(function(){return Promise.resolve(n.indicator.addEventListener("transitionend",function(e){e.stopPropagation(),n.hideImages(0)}))}).then(function(){return Promise.resolve(n.imagesInPromise[0].addEventListener("transitionend",function(e){e.stopPropagation(),n.hideText(0)}))}).then(function(){return Promise.resolve(n.textInPromise[0].addEventListener("transitionend",function(e){e.stopPropagation(),n.hideHeders(0)}))});for(var s=function(e){o.then(function(){return Promise.resolve(n.headsInPromise[e-1].addEventListener("transitionend",function(t){t.stopPropagation(),n.hideImages(e)}))}).then(function(){return Promise.resolve(n.imagesInPromise[e].addEventListener("transitionend",function(t){t.stopPropagation(),n.hideText(e)}))}).then(function(){return Promise.resolve(n.textInPromise[e].addEventListener("transitionend",function(t){t.stopPropagation(),n.hideHeders(e)}))})},d=1;d<n.textInPromise.length;d++)s(d)}},forFirstProgressbar=new HideElements(".first-progressbar",!0),forSecondProgressbar=new HideElements(".second-progressbar",!1);document.getElementById("sidebar-button").onclick=function(){display=document.getElementById("sidebar-wrapper").style.display,"none"==display?(document.getElementById("sidebar-wrapper").style.display="block",document.getElementById("sidebar-button").style.left=""):(document.getElementById("sidebar-wrapper").style.display="none",document.getElementById("sidebar-button").style.left="17px")};var addingSlider=document.querySelector(".adding-slider"),addingTable=document.querySelector(".adding-table"),addingFirstProgressbar=document.querySelector(".adding-first-progressbar"),addingSecondProgressbar=document.querySelector(".adding-second-progressbar"),slider=document.getElementById("first-slider"),secondSlider=document.getElementById("another-slider"),tableArea=document.querySelector(".table-area"),firstProgressbar=document.querySelector(".first-progressbar"),secondProgressbar=document.querySelector(".second-progressbar");addingTable.addEventListener("click",showBlockTableArea),addingSlider.addEventListener("click",showBlockSlider),addingFirstProgressbar.addEventListener("click",showFirstProgressbar),addingSecondProgressbar.addEventListener("click",showSecondProgressbar);var firstSlider=new Slidebox("#first-slider"),anotherSlider=new Slidebox("#another-slider");window.addEventListener("load",firstSlider.start()),firstSlider.container.onmouseover=function(e){if(!firstSlider.currentElem){for(var t=e.target;t!=this&&"FIGURE"!=t.tagName;)t=t.parentNode;t!=this&&(firstSlider.stop(),firstSlider.currentElem=t,t.lastElementChild.style.display="block")}},firstSlider.container.onmouseout=function(e){if(firstSlider.currentElem){var t=e.relatedTarget;if(t)for(;t;){if(t==firstSlider.currentElem)return;t=t.parentNode}firstSlider.start(),firstSlider.currentElem.lastElementChild.style.display="",firstSlider.currentElem=null}},anotherSlider.arrows.addEventListener("click",function(e){e.target.hasAttribute("data-direct")&&anotherSlider.moveByArrows()}),anotherSlider.control.addEventListener("click",function(e){var t=e.target;"BUTTON"==t.tagName&&anotherSlider.moveBySwitches(t)});var submit=document.querySelector("#submit");submit.addEventListener("click",createTable);var flag=!1;window.addEventListener("load",startTimer);var tamerBox=document.getElementById("my-timer");tamerBox.addEventListener("mouseover",stopTimer),tamerBox.addEventListener("mouseout",startTimer),document.addEventListener("keydown",function(e){27===e.keyCode&&(tamerBox.innerHTML="00:00:00")});var inputWeather=document.querySelector(".weather");google.maps.event.addDomListener(window,"load",initialize);var APPID="77e6549a0d6f421bbc4caa4dec3beb20",storage=window.localStorage,temp=void 0,loc=void 0,icon=void 0,humidity=void 0,wind=void 0,direction=void 0,city=void 0;storage.city&&(inputWeather.value=storage.city),document.querySelector(".submit-weather").addEventListener("click",getWeather);